# nov/10/2025 13:45:41 by RouterOS 6.46.1
# software id = JE89-Z92U
#
# model = RB941-2nD
# serial number = 9D7409F25865
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
add authentication-types=wpa-psk,wpa2-psk mode=dynamic-keys name=deni \
    supplicant-identity="" wpa-pre-shared-key=11223344 wpa2-pre-shared-key=\
    11223344
/interface wireless
set [ find default-name=wlan1 ] disabled=no mode=ap-bridge security-profile=\
    deni ssid="DENI@XII TKJ 1"
/ip hotspot profile
add dns-name=deni.login hotspot-address=196.200.4.1 html-directory=\
    lollipop_login/hotspot login-by=http-chap name=hsprof1
/ip pool
add name=dhcp_pool0 ranges=194.200.4.10-194.200.4.14
add name=dhcp_pool1 ranges=196.200.4.2-196.200.4.14
/ip dhcp-server
add address-pool=dhcp_pool0 disabled=no interface=ether4 name=dhcp1
add address-pool=dhcp_pool1 disabled=no interface=wlan1 name=dhcp2
/ip hotspot
add address-pool=dhcp_pool1 disabled=no interface=wlan1 name=hotspot1 \
    profile=hsprof1
/ip hotspot user profile
add address-pool=dhcp_pool1 name=guru rate-limit=5m/5m
add address-pool=dhcp_pool1 name=siswa rate-limit=5m/5m
/ip address
add address=192.200.4.17/29 interface=ether2 network=192.200.4.16
add address=194.200.4.9/29 interface=ether4 network=194.200.4.8
add address=196.200.4.1/24 interface=wlan1 network=196.200.4.0
/ip dhcp-client
add disabled=no interface=ether1
/ip dhcp-server network
add address=194.200.4.8/29 gateway=194.200.4.9
add address=196.200.4.0/24 gateway=196.200.4.1
/ip dns
set allow-remote-requests=yes servers=196.200.4.1
/ip firewall address-list
add address=smkn2jombang.sch.id comment="Daftar situs HTTPS diblokir" list=\
    blokir_https
add address=detik.com comment="Daftar situs HTTPS diblokir" list=blokir_https
/ip firewall filter
add action=passthrough chain=unused-hs-chain comment=\
    "place hotspot rules here" disabled=yes
add action=drop chain=forward comment=\
    "Blokir HTTPS smkn2jombang.sch.id dari WLAN1" dst-address-list=\
    blokir_https dst-port=443 in-interface=wlan1 protocol=tcp
add action=drop chain=forward comment="Blokir HTTPS detik.com dari WLAN1" \
    dst-address-list=blokir_https dst-port=443 in-interface=wlan1 protocol=\
    tcp
/ip firewall nat
add action=passthrough chain=unused-hs-chain comment=\
    "place hotspot rules here" disabled=yes
add action=masquerade chain=srcnat out-interface=ether1
add action=masquerade chain=srcnat comment="masquerade hotspot network" \
    src-address=196.200.4.0/24
add action=redirect chain=dstnat comment="Transparent Proxy untuk LAN" \
    dst-port=80 in-interface=ether2 protocol=tcp to-ports=3128
add action=redirect chain=dstnat comment="Transparent Proxy untuk WLAN1" \
    dst-port=80 in-interface=wlan1 protocol=tcp to-ports=3128
add action=redirect chain=dstnat dst-port=80 in-interface=wlan1 protocol=tcp \
    to-ports=3128
add action=redirect chain=dstnat comment="Transparent Proxy untuk LAN" \
    dst-port=80 in-interface=ether2 protocol=tcp to-ports=3128
add action=redirect chain=dstnat comment="Transparent Proxy untuk WLAN1" \
    dst-port=80 in-interface=wlan1 protocol=tcp to-ports=3128
/ip hotspot user
add name=admin
add name=guru password=1 profile=guru server=hotspot1
add name=siswa password=1 profile=siswa server=hotspot1
/ip proxy
set cache-administrator=Deni@smkpgriwlingi.sch.id enabled=yes max-cache-size=\
    none
/ip proxy access
add action=deny comment="Blokir HTTP detik.com dari LAN" dst-host=detik.com
/system clock
set time-zone-name=Asia/Jakarta
/system identity
set name=deni
